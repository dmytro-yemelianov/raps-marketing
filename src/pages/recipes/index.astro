---
import { getCollection } from 'astro:content';
import BaseLayout from '../../layouts/BaseLayout.astro';

const recipes = await getCollection('recipes');
---

<BaseLayout 
  title="Developer Recipes"
  description="Step-by-step recipes for common APS workflows"
>
  <div class="content-container py-12">
    <div class="max-w-4xl mx-auto">
      <header class="mb-12">
        <h1 class="text-4xl md:text-5xl font-bold mb-4">
          <span class="gradient-text">Developer Recipes</span>
        </h1>
        <p class="text-xl text-gray-600 mb-6">
          Step-by-step recipes for common APS workflows and tasks
        </p>
      </header>

      <div class="grid md:grid-cols-2 gap-8">
        {recipes.map((recipe) => (
          <article class="card p-6">
            <h2 class="text-xl font-semibold mb-3">
              <a href={`/recipes/${recipe.slug}`} class="hover:text-raps-blue">
                {recipe.data.title}
              </a>
            </h2>
            <p class="text-gray-600 mb-4">
              {recipe.data.description}
            </p>
            <div class="flex items-center gap-4 text-sm text-gray-500">
              <span class={`px-2 py-1 rounded text-xs ${
                recipe.data.difficulty === 'beginner' ? 'bg-green-100 text-green-800' :
                recipe.data.difficulty === 'intermediate' ? 'bg-yellow-100 text-yellow-800' :
                'bg-red-100 text-red-800'
              }`}>
                {recipe.data.difficulty}
              </span>
              <span>⏱️ {recipe.data.estimatedTime}</span>
            </div>
          </article>
        ))}
      </div>
    </div>
  </div>
</BaseLayout>