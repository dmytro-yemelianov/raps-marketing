<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes, maximum-scale=5.0">
    <title>{{ page.title | default: site.title }}</title>
    <meta name="description" content="{{ page.description | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}">
    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>
    <div class="page-container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h1><a href="{{ '/' | relative_url }}">ğŸŒ¼ RAPS Marketing</a></h1>
                <p class="sidebar-description">Strategic marketing hub for APS automation dominance</p>
            </div>
            
            <div class="nav-sections">
                <div class="nav-section">
                    <h3>ğŸ¯ Strategy</h3>
                    <ul>
                        <li><a href="{{ '/MASTER-EXECUTION-PLAN' | relative_url }}">Master Execution Plan</a></li>
                        <li><a href="{{ '/IMPLEMENTATION-ROADMAP' | relative_url }}">Implementation Roadmap</a></li>
                        <li><a href="{{ '/strategy/community-takeover-plan' | relative_url }}">Community Takeover</a></li>
                        <li><a href="{{ '/strategy/brand-positioning' | relative_url }}">Brand Positioning</a></li>
                        <li><a href="{{ '/strategy/aps-website-competitive-analysis' | relative_url }}">APS Competitive Analysis</a></li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <h3>ğŸ“¢ Campaigns</h3>
                    <ul>
                        <li><a href="{{ '/campaigns/devcon-2026/' | relative_url }}">DevCon 2026</a></li>
                        <li><a href="{{ '/campaigns/mcp-announcement/launch-strategy' | relative_url }}">MCP Launch</a></li>
                        <li><a href="{{ '/campaigns/enterprise-outreach/enterprise-sales-strategy' | relative_url }}">Enterprise Sales</a></li>
                        <li><a href="{{ '/campaigns/aps-reality-check/campaign-overview' | relative_url }}">APS Reality Check</a></li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <h3>ğŸ“ Content</h3>
                    <ul>
                        <li><a href="{{ '/manifesto/raps-manifesto' | relative_url }}">RAPS Manifesto</a></li>
                        <li><a href="{{ '/articles/technical-series-outlines' | relative_url }}">Article Series</a></li>
                        <li><a href="{{ '/content/videos/demo-scripts' | relative_url }}">Demo Videos</a></li>
                        <li><a href="{{ '/content/social/linkedin-content-calendar' | relative_url }}">LinkedIn Calendar</a></li>
                        <li><a href="{{ '/cheatsheets/autodesk-forums-cheatsheet' | relative_url }}">Forum Cheatsheet</a></li>
                        <li><a href="{{ '/content/press/major-announcement-template' | relative_url }}">Press Templates</a></li>
                        <li><a href="{{ '/specific-content-ideas/aps-gap-exploitation' | relative_url }}">APS Gap Exploitation</a></li>
                        <li><a href="{{ '/cross-platform-developer-pain-points/' | relative_url }}">ğŸ¯ Cross-Platform Pain Points</a></li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <h3>ğŸ“š Success Stories</h3>
                    <ul>
                        <li><a href="{{ '/content/success-stories/enhanced-storytelling-framework' | relative_url }}">Storytelling Framework</a></li>
                        <li><a href="{{ '/content/success-stories/storytelling-guidelines' | relative_url }}">Content Guidelines</a></li>
                        <li><a href="{{ '/content/success-stories/sample-stories/enterprise-manufacturing-story' | relative_url }}">Enterprise Example</a></li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <h3>ğŸ¤ Community</h3>
                    <ul>
                        <li><a href="{{ '/community/autodesk-forums/engagement-playbook' | relative_url }}">Forum Playbook</a></li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <h3>ğŸ“… Calendar</h3>
                    <ul>
                        <li><a href="{{ '/calendar/integrated-calendar-view' | relative_url }}">Integrated View</a></li>
                        <li><a href="{{ '/calendar/master-calendar-2026' | relative_url }}">Master Calendar</a></li>
                        <li><a href="{{ '/calendar/theme-calendars/devcon-2026-calendar' | relative_url }}">DevCon 2026</a></li>
                        <li><a href="{{ '/calendar/theme-calendars/mcp-campaign-calendar' | relative_url }}">MCP Campaign</a></li>
                        <li><a href="{{ '/calendar/theme-calendars/community-takeover-calendar' | relative_url }}">Community Takeover</a></li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <h3>ğŸ“° Press Kit</h3>
                    <ul>
                        <li><a href="{{ '/press/press-releases/raps-4-0-launch' | relative_url }}">RAPS 4.0 Launch</a></li>
                        <li><a href="{{ '/press/press-releases/mcp-server-announcement' | relative_url }}">MCP Server Launch</a></li>
                        <li><a href="{{ '/pdf-generation/convert-to-pdf' | relative_url }}">PDF Generation Guide</a></li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <h3>ğŸ“„ Professional PDFs</h3>
                    <ul>
                        <li><a href="{{ '/pdfs/aps-cheatsheet.pdf' | relative_url }}" target="_blank">ğŸ“‹ APS Cheat Sheet</a></li>
                        <li><a href="{{ '/pdfs/aps-error-codes-reference.pdf' | relative_url }}" target="_blank">ğŸ”§ Error Codes Reference</a></li>
                        <li><a href="{{ '/pdfs/aps-oauth-scopes-reference.pdf' | relative_url }}" target="_blank">ğŸ” OAuth Scopes Guide</a></li>
                        <li><a href="{{ '/pdfs/forge-to-aps-migration-guide.pdf' | relative_url }}" target="_blank">ğŸ”„ Migration Guide</a></li>
                        <li><a href="{{ '/pdfs/raps-developer-quickstart.pdf' | relative_url }}" target="_blank">ğŸš€ RAPS Quick Start</a></li>
                        <li><a href="{{ '/pdf-resources' | relative_url }}">ğŸ¨ PDF & Infographics Hub</a></li>
                        <li><a href="{{ '/pdfs/' | relative_url }}">ğŸ“ All PDFs</a></li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <h3>ğŸ› ï¸ Developer Resources</h3>
                    <ul>
                        <li><a href="{{ '/developer-resources/guides/which-api-do-i-need' | relative_url }}">API Decision Tree</a></li>
                        <li><a href="{{ '/developer-resources/guides/forge-to-aps-migration' | relative_url }}">Forge â†’ APS Migration</a></li>
                        <li><a href="{{ '/developer-resources/guides/acc-provisioning-checklist' | relative_url }}">ğŸš¨ ACC Provisioning Checklist</a></li>
                        <li><a href="{{ '/developer-resources/guides/3legged-auth-visual' | relative_url }}">ğŸ”„ 3-Legged Auth Walkthrough</a></li>
                        <li><a href="{{ '/developer-resources/recipes/upload-translate-view' | relative_url }}">Upload-Translate-View Recipe</a></li>
                        <li><a href="{{ '/developer-resources/recipes/extract-properties' | relative_url }}">Extract Properties Recipe</a></li>
                        <li><a href="{{ '/developer-resources/references/error-codes' | relative_url }}">Error Codes Reference</a></li>
                        <li><a href="{{ '/developer-resources/references/oauth-scopes' | relative_url }}">OAuth Scopes Reference</a></li>
                        <li><a href="{{ '/developer-resources/cheatsheets/aps-cheatsheet' | relative_url }}">APS Cheat Sheet</a></li>
                        <li><a href="{{ '/developer-resources/tools/urn-encoder' | relative_url }}">ğŸ”§ URN Encoder Tool</a></li>
                        <li><a href="{{ '/developer-resources/tools/token-decoder' | relative_url }}">ğŸ”“ Token Decoder Tool</a></li>
                        <li><a href="{{ '/developer-resources/tools/scope-builder' | relative_url }}">ğŸ” Scope Builder Tool</a></li>
                        <li><a href="{{ '/developer-resources/tools/token-estimator' | relative_url }}">ğŸ’° Token Cost Estimator</a></li>
                        <li><a href="{{ '/developer-resources/tools/translation-debugger' | relative_url }}">ğŸ” Translation Debugger</a></li>
                        <li><a href="{{ '/infographics/token-cost-infographic' | relative_url }}">ğŸ“Š Token Cost Infographic</a></li>
                        <li><a href="{{ '/infographics/oauth-flow-diagram' | relative_url }}">ğŸ”„ OAuth Flow Visual</a></li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <h3>ğŸ“– Marketing Cheat Sheets</h3>
                    <ul>
                        <li><a href="{{ '/cheatsheets/raps-developer-quickstart' | relative_url }}">RAPS Quick Start</a></li>
                        <li><a href="{{ '/cheatsheets/raps-enterprise-admin-guide' | relative_url }}">Enterprise Admin</a></li>
                        <li><a href="{{ '/cheatsheets/aps-automation-patterns' | relative_url }}">Automation Patterns</a></li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <h3>ğŸ“Š Analytics</h3>
                    <ul>
                        <li><a href="{{ '/analytics/kpi-dashboard' | relative_url }}">KPI Dashboard</a></li>
                        <li><a href="{{ '/analytics/success-story-measurement-framework' | relative_url }}">Story Metrics Framework</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="sidebar-footer">
                <div class="footer-links">
                    <a href="https://github.com/dmytro-yemelianov/raps-marketing" target="_blank" rel="noopener">Repository</a>
                    <a href="https://rapscli.xyz" target="_blank" rel="noopener">RAPS Website</a>
                </div>
            </div>
        </nav>
        
        <!-- Main Content Area -->
        <main class="main-content">
            <div class="content-wrapper">
                {{ content }}
            </div>
        </main>
        
        <!-- Mobile Menu Toggle -->
        <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle navigation menu">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
        </button>
    </div>
    
    <script>
        // Enhanced mobile menu functionality
        document.addEventListener('DOMContentLoaded', function() {
            const menuToggle = document.getElementById('mobileMenuToggle');
            const sidebar = document.querySelector('.sidebar');
            const body = document.body;
            
            if (menuToggle && sidebar) {
                // Menu toggle with body scroll lock
                menuToggle.addEventListener('click', function(e) {
                    e.stopPropagation();
                    sidebar.classList.toggle('sidebar-open');
                    menuToggle.classList.toggle('menu-open');
                    body.classList.toggle('sidebar-open');
                });
                
                // Close menu when clicking outside on mobile
                document.addEventListener('click', function(event) {
                    const target = event.target;
                    if (!sidebar.contains(target) && !menuToggle.contains(target)) {
                        sidebar.classList.remove('sidebar-open');
                        menuToggle.classList.remove('menu-open');
                        body.classList.remove('sidebar-open');
                    }
                });
                
                // Close menu on navigation click (mobile)
                const navLinks = sidebar.querySelectorAll('a');
                navLinks.forEach(link => {
                    link.addEventListener('click', function() {
                        if (window.innerWidth <= 768) {
                            sidebar.classList.remove('sidebar-open');
                            menuToggle.classList.remove('menu-open');
                            body.classList.remove('sidebar-open');
                        }
                    });
                });
                
                // Handle window resize
                window.addEventListener('resize', function() {
                    if (window.innerWidth > 768) {
                        sidebar.classList.remove('sidebar-open');
                        menuToggle.classList.remove('menu-open');
                        body.classList.remove('sidebar-open');
                    }
                });
                
                // Handle escape key
                document.addEventListener('keydown', function(e) {
                    if (e.key === 'Escape' && sidebar.classList.contains('sidebar-open')) {
                        sidebar.classList.remove('sidebar-open');
                        menuToggle.classList.remove('menu-open');
                        body.classList.remove('sidebar-open');
                    }
                });
            }
            
            // Enhanced current page highlighting
            const currentPath = window.location.pathname;
            const navLinks = document.querySelectorAll('.nav-section a');
            
            navLinks.forEach(link => {
                const href = link.getAttribute('href');
                if (href === currentPath || 
                    currentPath.includes(href) ||
                    (href !== '/' && currentPath.endsWith(href.replace(/^\//, '')))) {
                    link.classList.add('current-page');
                }
            });
            
            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
            
            // Touch gesture support for sidebar
            let touchStartX = 0;
            let touchEndX = 0;
            
            document.addEventListener('touchstart', function(e) {
                touchStartX = e.changedTouches[0].screenX;
            }, { passive: true });
            
            document.addEventListener('touchend', function(e) {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            }, { passive: true });
            
            function handleSwipe() {
                const swipeThreshold = 50;
                const diff = touchStartX - touchEndX;
                
                // Only handle swipes on mobile
                if (window.innerWidth <= 768) {
                    // Swipe left to close sidebar
                    if (diff > swipeThreshold && sidebar.classList.contains('sidebar-open')) {
                        sidebar.classList.remove('sidebar-open');
                        menuToggle.classList.remove('menu-open');
                        body.classList.remove('sidebar-open');
                    }
                    // Swipe right to open sidebar (from left edge only)
                    else if (diff < -swipeThreshold && touchStartX < 50 && !sidebar.classList.contains('sidebar-open')) {
                        sidebar.classList.add('sidebar-open');
                        menuToggle.classList.add('menu-open');
                        body.classList.add('sidebar-open');
                    }
                }
            }
        });
    </script>
</body>
</html>